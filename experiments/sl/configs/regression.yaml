defaults:
  - network: si_mlp
  - dataset: australian
  - sfr: classification
  # Use slurm on cluster or local?
  # - override hydra/launcher: submitit_local
  # - override hydra/launcher: lumi
  # - override hydra/launcher: puhti
  # - override hydra/launcher: slurm
  - override hydra/launcher: slurm_short
  # Disable logging by Hydra
  # - override hydra/job_logging: none # stop hydra creating .log file
  # - override hydra/hydra_logging: none # saves .hydra/*.yaml files
  - _self_

train_update_split: 0.5

device: "cuda"
double_train: true
double_inference: True

# device: "cpu"
output_dim: ???
batch_size: 512
lr: 1e-4
n_epochs: 10000

logging_epoch_freq: 2
random_seed: 117

early_stop:
  patience: 1000
  min_prior_precision: 0


wandb:
  group: ${dataset.name}
  project: "sl-regression"
  use_wandb: True
  run_name: ${dataset.name}-seed=${random_seed}-${now:%Y-%m-%d_%H-%M-%S}
  tags:
    - "dataset=${dataset.name}"
    - "seed=${random_seed}"

hydra:
  run:
    dir: output/${hydra.job.name}/${now:%Y-%m-%d_%H-%M-%S}
  job:
    chdir: true
  sweep:
    dir: ${hydra.run.dir}
    subdir: ${hydra.job.num}
  job_logging:
    root:
      level: INFO # DEBUG
