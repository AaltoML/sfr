defaults:
  # Use slurm on cluster or local?
  - inference_strategy: sfr
  # - inference_strategy: laplace
  # - pred_strategy: laplace
  # - override hydra/launcher: submitit_local
  # - override hydra/launcher: slurm
  # - override hydra/launcher: lumi
  - override hydra/launcher: puhti 
  # - override hydra/launcher: slurm_cpu
  # Disable logging by Hydra
  # - override hydra/job_logging: none # creates .log file
  # - override hydra/hydra_logging: none # saves .hydra/*.yaml files
  - _self_

# checkpoint: "./wandb/run-20230605_122709-jkhh28j8"
# checkpoint: "./wandb/run-20230605_162902-q2tmpsy0"
# checkpoint: "wandb/run-20230605_160605-3b8gdq3l"
# checkpoint: "./wandb/run-20230609_094409-p7xhdnny"
checkpoint: "./wandb/run-20230628_173218-qc5ijob9" 
device: ???
output_dim: ???

# dataset and seed will be set at run time based on the checkpoint information
dataset: ???
random_seed: ???

double: True

batch_size: 64 # for predicting over test/val data
# batch_size: 256 # for predicting over test/val data

wandb:
  group: ${dataset}
  # group: "inference"
  entity: ""
  project: "sfr-sl-inference"
  use_wandb: True
  run_name: ${inference_strategy.name}-seed=${random_seed}-${now:%Y-%m-%d_%H-%M-%S}
  # run_name: delta=${prior.delta}-lr=${lr}-seed=${random_seed}-${now:%Y-%m-%d_%H-%M-%S}
  tags:
    - "inference"
    # - "delta=${prior.delta}"
    # - "m=${sfr.num_inducing}"
    # - "dataset=${dataset}"

hydra:
  run:
    dir: output/${hydra.job.name}/${now:%Y-%m-%d_%H-%M-%S}
  job:
    chdir: true
  sweep:
    dir: ${hydra.run.dir}
    subdir: ${hydra.job.num}
  job_logging:
    root:
      level: DEBUG
